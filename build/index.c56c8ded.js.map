{"mappings":"kpBAsBA,IAAAA,EACAC,E,iFArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,gG,MCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCE5F,MAAMC,EAASC,SAASC,eAAe,WACjCC,EAAMH,EAAOI,WAAW,MAC9BJ,EAAOK,MAAQ,IACfL,EAAOM,OAAS,IAChB,MAAMC,EAAa,GACnB,IAAIC,EAAiBR,EAAOS,wBAQ5B,MAAMC,EANN,SAAqBC,GACnB,MAAMC,EAAQ,IAAIC,MAElB,OADAD,EAAME,IAAMH,EACLC,C,CAGIG,CAAYC,EAAAvB,IAEzB,MAAMwB,EACJC,YAAYC,EAAGC,GACbC,KAAKC,aAAe,IACpBD,KAAKE,cAAgB,IACrBF,KAAKhB,MAA4B,GAApBgB,KAAKC,aAClBD,KAAKf,OAA8B,GAArBe,KAAKE,cACnBF,KAAKF,EAAIA,EACTE,KAAKD,EAAIA,EACTC,KAAKG,MAAQ,IAAIC,MACjBJ,KAAKG,MAAMV,IAAM,8BACjBO,KAAKK,MAAQ,EACbL,KAAKT,MAAQF,EACbW,KAAKM,MAAQ,EACbN,KAAKO,MAAwB,IAAhBC,KAAKC,Q,CAGpBC,SACqB,IAAfV,KAAKK,OACPL,KAAKG,MAAMQ,OAEbX,KAAKM,QACDN,KAAKM,MAAQ,IAAO,GACtBN,KAAKK,O,CAGTO,OACE9B,EAAI+B,OACJ/B,EAAIgC,UAAUd,KAAKF,EAAGE,KAAKD,GAC3BjB,EAAIiC,OAAOf,KAAKO,OAEhBzB,EAAIkC,UACFhB,KAAKT,MACLS,KAAKC,aAAeD,KAAKK,MACzB,EACAL,KAAKC,aACLD,KAAKE,cACL,EAAiB,GAAbF,KAAKhB,MACT,EAAkB,GAAdgB,KAAKf,OACTe,KAAKhB,MACLgB,KAAKf,QAEPH,EAAImC,S,EAIRC,OAAOC,iBAAiB,SAAS,SAAUC,IAI3C,SAAyBA,GACvB,IAAIC,EAAYD,EAAEtB,EAAIX,EAAemC,KACjCC,EAAYH,EAAErB,EAAIZ,EAAeqC,IACrCtC,EAAWuC,KAAK,IAAI7B,EAAUyB,EAAWE,G,CANzCG,CAAgBN,E,IASlB,SAASO,IACP7C,EAAI8C,UAAU,EAAG,EAAGjD,EAAOK,MAAOL,EAAOM,QACzC,IAAK,IAAItB,EAAI,EAAGA,EAAIuB,EAAWtB,OAAQD,IACrCuB,EAAWvB,GAAG+C,SACdxB,EAAWvB,GAAGiD,OACV1B,EAAWvB,GAAG0C,MAAQ,IACxBnB,EAAW2C,OAAOlE,EAAG,GACrBA,KAGJmE,sBAAsBH,E,CAExBA","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-5e99c21a88d89223.js","node_modules/@parcel/runtime-js/lib/runtime-a9334dff7814e8d2.js","src/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7GeUN\\\":\\\"index.c56c8ded.js\\\",\\\"jE0tl\\\":\\\"boom.054127e7.png\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jE0tl\")).toString();","/**@type {HTMLCanvasElement}*/\r\nimport img from \"../img/boom.png\";\r\nconst canvas = document.getElementById(\"canvas1\");\r\nconst ctx = canvas.getContext(\"2d\");\r\ncanvas.width = 500;\r\ncanvas.height = 700;\r\nconst explosions = [];\r\nlet canvasPosition = canvas.getBoundingClientRect();\r\n\r\nfunction createImage(imageSrc) {\r\n  const image = new Image();\r\n  image.src = imageSrc;\r\n  return image;\r\n}\r\n\r\nconst boom = createImage(img);\r\n\r\nclass Explosion {\r\n  constructor(x, y) {\r\n    this.spritesWidth = 200;\r\n    this.spritesHeight = 179;\r\n    this.width = this.spritesWidth * 0.7;\r\n    this.height = this.spritesHeight * 0.7;\r\n    this.x = x;\r\n    this.y = y;\r\n    this.sound = new Audio();\r\n    this.sound.src = \"../sounds/fire-impact-1.mp3\";\r\n    this.frame = 0;\r\n    this.image = boom;\r\n    this.timer = 0;\r\n    this.angle = Math.random() * 6.2;\r\n \r\n  }\r\n  update() {\r\n    if (this.frame === 0) {\r\n      this.sound.play()\r\n     }\r\n    this.timer++;\r\n    if (this.timer % 10 === 0) {\r\n      this.frame++;\r\n    }\r\n  }\r\n  draw() {\r\n    ctx.save();\r\n    ctx.translate(this.x, this.y);\r\n    ctx.rotate(this.angle);\r\n    //   ctx.draImage(image, sx, sy, sw, sh, dx, dy, dw, dh)\r\n    ctx.drawImage(\r\n      this.image,\r\n      this.spritesWidth * this.frame,\r\n      0,\r\n      this.spritesWidth,\r\n      this.spritesHeight,\r\n      0 - this.width * 0.5,\r\n      0 - this.height * 0.5,\r\n      this.width,\r\n      this.height\r\n    );\r\n    ctx.restore();\r\n  }\r\n}\r\n\r\nwindow.addEventListener(\"click\", function (e) {\r\n  createAnimation(e);\r\n});\r\n\r\nfunction createAnimation(e) {\r\n  let positionX = e.x - canvasPosition.left;\r\n  let positionY = e.y - canvasPosition.top;\r\n  explosions.push(new Explosion(positionX, positionY));\r\n}\r\n\r\nfunction animate() {\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n  for (let i = 0; i < explosions.length; i++) {\r\n    explosions[i].update();\r\n    explosions[i].draw();\r\n    if (explosions[i].frame > 5) {\r\n      explosions.splice(i, 1);\r\n      i--;\r\n    }\r\n  }\r\n  requestAnimationFrame(animate);\r\n}\r\nanimate();\r\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$2f994f33992b5686$exports","URL","resolve","import","meta","url","toString","$35da740d59af89ba$var$canvas","document","getElementById","$35da740d59af89ba$var$ctx","getContext","width","height","$35da740d59af89ba$var$explosions","$35da740d59af89ba$var$canvasPosition","getBoundingClientRect","$35da740d59af89ba$var$boom","imageSrc","image","Image","src","$35da740d59af89ba$var$createImage","$parcel$interopDefault","$35da740d59af89ba$var$Explosion","constructor","x","y","this","spritesWidth","spritesHeight","sound","Audio","frame","timer","angle","Math","random","update","play","draw","save","translate","rotate","drawImage","restore","window","addEventListener","e","positionX","left","positionY","top","push","$35da740d59af89ba$var$createAnimation","$35da740d59af89ba$var$animate","clearRect","splice","requestAnimationFrame"],"version":3,"file":"index.c56c8ded.js.map"}